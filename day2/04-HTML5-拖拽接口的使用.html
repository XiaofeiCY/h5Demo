<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div class="div1" id="div1">
        <!-- 在h5中，如果想拖拽元素，必须为元素添加draggable="true".图片和超链接默认可以拖拽 -->
        <p id="pe" draggable="true">这是一个P元素，拖拖看鸭</p>
    </div>
    <div class="div2" id="div2"></div>
</body>
<script>
    // 学习拖拽，主要就是学习拖拽事件
    var p = document.querySelector('#pe');
    var div1 = document.querySelector('#div1');
    var div2 = document.querySelector('#div2');
    // 应用于被拖拽元素的事件
    // ondrag        应用于拖拽元素，整个拖拽过程都会调用--持续状态
    // ondragstart   应用于拖拽元素，当拖拽开始时调用
    // ondragleave   应用于拖拽元素，当鼠标离开拖拽元素时调用
    // ondragend     应用于拖拽元素，当拖拽结束时调用
    p.ondragstart = function () {
        console.log('ondragstart');
    }
    p.ondragend = function () {
        console.log('ondragend');
    }
    p.ondragleave = function () {
        console.log('拖拽元素：ondragleave');
    }
    p.ondrag = function () {
        // console.log('ondrag');
    }

    // 应用于目标元素事件
    // ondragenter   应用于目标元素，当拖拽元素进入时调用
    // ondragover    应用于目标元素，当停留在目标元素上时调用
    // ondrop        应用于目标元素，当在目标元素上松开鼠标时调用
    // ondragleave   应用于目标元素，当鼠标离开目标元素时调用

    div2.ondragenter = function () {
        console.log('ondragenter');
    }
    div2.ondragover = function (e) {
        // console.log('ondragover');
        // 如果想要触发ondrop事件，那么就必须在这个位置阻止浏览器的默认行为
        e.preventDefault();
    }
    // 浏览器默认会阻止ondrop事件：我们必须在ondragover中阻止浏览器的默认行为
    div2.ondrop = function () {
        console.log('ondrop');
        // 添加被拖拽的元素到当前目标元素
        div2.appendChild(p);
    }
    div2.ondragleave = function () {
        console.log('目标元素：ondragleave');
    }
    div1.ondragover = function (e) {
        // console.log('ondragover');
        // 如果想要触发ondrop事件，那么就必须在这个位置阻止浏览器的默认行为
        e.preventDefault();
    }
    div1.ondrop = function () {
        console.log('ondrop');
        // 添加被拖拽的元素到当前目标元素
        div1.appendChild(p);
    }
</script>
<style>
    div {
        width: 250px;
        height: 250px;
        border: 1px solid #000000;
        margin-bottom: 15px;
    }
    p {
        background-color: turquoise;
        margin-bottom: 15px;
    }
</style>
</html>